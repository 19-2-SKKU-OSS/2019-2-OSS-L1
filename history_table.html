<style type="text/css">
	.new_table {width:100%; }
	.new_table caption {font-size:0; position:absolute; left:-9999px; top:-9999px; line-height:0}
	.new_table th {font-size:14px; font-weight:400; padding:16px 0; background:#fafafa; border-bottom:1px solid #ddd }
	.new_table th button {border:0 none; display:inline-block; padding:5px 5px 6px; font-size:11px; margin:0 2px; border-radius:3px; cursor:pointer; background:#112f41; color:#fff; outline:0 none}
	.new_table th button.active {background:#ed553b; color:#fff}
	.new_table td {font-size:14px; font-weight:400; text-align:center !important; padding:14px 0; border-bottom:1px solid #ddd }
</style>
<div class="table_box">
	<div class="table_inner_box wd1280">
		<table cellpadding="0" cellspacing="0" class="new_table">
			<caption>
				정렬하기
			</caption>
			<colgroup>
				<col style="width:12%" />
				<col style="width:12%" />
				<col style="width:12%" />
				<col style="width:12%" />
				<col style="width:12%" />
				<col style="width:12%" />
			</colgroup>
			<thead>
				<tr>
					<th>branch<button class="up">오름차순</button><button class="down">내림차순</button></th>
					<th>Name<button class="up">오름차순</button><button class="down">내림차순</button></th>
					<th>Date<button class="up">오름차순</button><button class="down">내림차순</button></th>
					<th>Commit<button class="up">오름차순</button><button class="down">내림차순</button></th>
					<th>Comment<button class="up">오름차순</button><button class="down">내림차순</button></th>
				</tr>
			</thead>
			<tbody>
				<tr>
					<td>gh-pages</td>
					<td>설채은</td>
					<td>12-09</td>
					<td>Update gh-pages</td>
					<td>Github 정적페이지 생성</td>
				</tr>
				<tr>
					<td>gh-pages</td>
					<td>설채은</td>
					<td>12-10</td>
					<td>Update the gh-pages</td>
					<td>Github 정적페이지 생성</td>
				</tr>
				<tr>
					<td>branch</td>
					<td>설채은</td>
					<td>12-01</td>
					<td>Update the gh-pages</td>
					<td>Github 정적페이지 생성</td>
				</tr>
			</tbody>
		</table>
	</div>
</div>
<script type="text/javascript">
	var table_html;
	function re_table(line, cols, table_position) {
		table_html = "";
		for(var i = 0; i<line; i++) {
			table_html += "<tr>";
			for(var j = 0; j<cols; j++) {
				table_html += "<td>"+new_array[i][j]+"</td>";
			}
			table_html += "</tr>";
		}
		$(table_position.find("tbody")).html(table_html);
	}

	$(document).ready(function() {
		var text_array;

		$("button.up, button.down").on("click", function() {
			var $this = $(this);
			var $this_table = $this.parents("table");
			var $this_start_number = $this.parent().index();
			
			var table_th_length = $this.parents("table").find("thead th").length;
			var table_tr_length = $this.parents("table").find("tbody tr").length;

			new_array = new Array();
			for(var i = 0; i<table_tr_length; i++) {
				new_array[i] = [];
				for(var j = 0 ; j < table_th_length; j++) {
					text_array = $this_table.find("tbody tr").eq(i).find("td").eq(j).text(); // 값땡겨오는거
					new_array[i][j] = text_array;
				}	
			}

			$this_table.find("th button").removeClass("active");
			$this.addClass("active");
			
			new_array.sort(function (a, b) { 
				if($this.hasClass("up")) {
					return a[$this_start_number] < b[$this_start_number] ? -1 : a[$this_start_number] > b[$this_start_number]? 1 : 0;  
				} else {
					return a[$this_start_number] > b[$this_start_number] ? -1 : a[$this_start_number] < b[$this_start_number]? 1 : 0;  
				}
			});

			$this_table.find("tbody").empty();
			re_table(table_tr_length, table_th_length, $this_table);
		});
	})
</script>
